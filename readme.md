# 资源监控及告警项目

### 简介

对天翼云云主机，磁盘，带宽，和外置资源的到期时间进行监控告警

### 整体设计思路

* 开发框架 Flask==2.0.1
* 数据存储 mysql-5.7
* ORM SQLAlchemy==1.4.20

### 计划

* 开发周期

| 版本 | 开始时间 | 结束时间 | 计划用时周期(周) | 
| :--: | :------: | :------: | :--------------: | 
| v1 | 08.13 | 08.23 | 1 |

### 模块&进度

| 模块 | 功能 | 完成度(%) | 备注 | 
| :------- | :------------------------- | :-------: | :--: | 
| 云主机 | 查询主机列表和详情信息 | 100 | | 
| |修改主机信息 | 100 | | 
| 云盘 | 查询云盘列表和详情信息 | 100 | | 
| | 修改云盘信息 | 100 | | 
| 带宽 | 查询带宽列表和详情信息 | 100 | | 
| | 修改带宽信息 | 100 | | 
|外置资源 | 手动录入外置资源 | 100 | | 
| | 修改外置资源信息 | 100 | | 
| | 查询外置资源列表和详情信息 | 100 | | 
| | 删除外置资源信息 | 100 | | 
| 告警人员 | 查询告警人员列表 |100 | | 
| | 添加告警人员 | 100 | | 
| | 删除告警人员信息 | 100 | | 
| | 修改告警人员信息 | 100 | | 
| 日志 | 查询日志列表 | 100 | | 
| | 查询日志详情 | 100 | |

### 模块开发设计要点

* 思路:

  ```
  指定资源信息展示
  
  支持条件过滤查询
  
  指定时间内发送告警
  
  对指定资源设置告警等级和告警过滤，选定告警人员
  ```


* 实现要点:

  ```
  6小时入库一次
  
  对指定资源告警过滤
  
  10<= day <= 15，每天一次提醒， day < 10, 每小时一次提醒
  
  支持条件查询
  ```


* | 版本 | 版本(Tags) | 时间 | 
  | :--------: | :-----: | ------ | 
  | v1 | 测试版 | 2021-08 |

### 部署

* 依赖应用

| 应用名称     | 版本  | 备注 |
| :----------- | :---- | :--- |
| Mysql server | 5.7   |      |
| Flask        | 2.0.1 |      |
| SQLAlchemy   | 2.5.1 |      |

* 配置参数

| 参数名称 |  类型  | 默认值        | 备注          |
| -------- | :----: | ------------- | ------------- |
| log_path | string | /logs/log.log | 日志路径      |
| log_size | string | 500M          | 日志 文件大小 |

* 命令参数

| 参数名称 | 类型    | 默认值  | 备注       |
| :------- | :------ | :------ | :--------- |
| addr     | ip地址  | 0.0.0.0 | 服务绑定地 |
| port     | int端口 | 5000    | 服务端口号 |

* 服务启动

```shell

```

### 注意事项



